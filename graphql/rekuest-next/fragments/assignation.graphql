fragment PostmanAssignation on Assignation {
  id
  latestEventKind
  args
  reference
  isDone
  events(order: {createdAt: DESC}) {
    ...AssignationEvent
  }
  ephemeral
  action {
    hash
    id
    name
    ...Ports
  }
  reservation {
    id
    title
    action {
      name
    }
  }
  dependencies
  implementation {
    id
    interface
    extension
  }
  createdAt
  finishedAt
}

fragment MinimalAssignation on Assignation {
  id
  reference
  latestEventKind
  isDone
  createdAt
  implementation {
    id
    interface
    agent {
      name
    }
  }
}

fragment NoChildrenDetailAssignation on Assignation {
  ...PostmanAssignation
  parent {
    id
  }
  finishedAt
  implementation {
    agent {
      registry {
        client {
          clientId
          device {
            deviceId
          }
        }
      }

    name
    }
  }
}

fragment DetailAssignation on Assignation {
  ...PostmanAssignation
  children {
    ...PostmanAssignation
  }
  parent {
    id
  }
  finishedAt
  implementation {
    agent {
      registry {
        client {
          clientId
          device {
            deviceId
          }
        }
      }

    name
    }
  }
}

fragment AssignationEvent on AssignationEvent {
  id
  kind
  level
  returns
  assignation {
    id
    reference
  }
  progress
  reference
  createdAt
  message
  delegatedTo {
    id
    implementation {
      id
      interface
      action {
        name
      }
      extension
    }
  }
}
fragment AssignationChangeEvent on AssignationChangeEvent {
  create {
    ...PostmanAssignation
  }
  event {
    ...AssignationEvent
  }
}
fragment ChildAssignationEvent on ChildAssignationEvent {
  create {
    ...PostmanAssignation
  }
  update {
    ...PostmanAssignation
  }
}

fragment ListAsssignation on Assignation {
  id
  reference
  latestEventKind
  isDone
  finishedAt
  createdAt
  action {
    id
    name
  }
  implementation {
    id
    interface
    extension
  }
  createdAt
}
